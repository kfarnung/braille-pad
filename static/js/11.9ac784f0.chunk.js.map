{"version":3,"sources":["../node_modules/compare-versions/index.js","Images/puzztool_banner_dark.svg","../node_modules/react-bootstrap/esm/CardDeck.js","Data/LocalStorage.ts","version.ts","Features/Settings/index.tsx"],"names":["define","semver","split","v","str","q","c","replace","patchIndex","indexOf","length","arr","substring","push","tryParse","isNaN","Number","validate","version","TypeError","test","Error","compareVersions","v1","v2","forEach","s1","s2","i","Math","max","n1","parseInt","n2","sp1","sp2","p1","map","p2","undefined","allowedOperators","operatorResMap","compare","operator","op","join","validateOperator","res","module","exports","createWithBsPrefix","isSupported","getKey","key","clearOnVersionMismatch","value","prev","current","didVersionChange","isLocalStorageSupported","window","localStorage","getItem","getLocalStorageItem","clearLocalStorage","setItem","storage","x","removeItem","e","DOMException","code","name","clear","Settings","PuzzToolPage","title","className","CardDeck","Card","Header","Body","Button","onClick","variant","src","PuzztoolBannerDark","alt","href","rel","target"],"mappings":"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","file":"static/js/11.9ac784f0.chunk.js","sourcesContent":["/* global define */\n(function (root, factory) {\n  /* istanbul ignore next */\n  if (typeof define === 'function' && define.amd) {\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    module.exports = factory();\n  } else {\n    root.compareVersions = factory();\n  }\n}(this, function () {\n\n  var semver = /^v?(?:\\d+)(\\.(?:[x*]|\\d+)(\\.(?:[x*]|\\d+)(\\.(?:[x*]|\\d+))?(?:-[\\da-z\\-]+(?:\\.[\\da-z\\-]+)*)?(?:\\+[\\da-z\\-]+(?:\\.[\\da-z\\-]+)*)?)?)?$/i;\n\n  function indexOrEnd(str, q) {\n    return str.indexOf(q) === -1 ? str.length : str.indexOf(q);\n  }\n\n  function split(v) {\n    var c = v.replace(/^v/, '').replace(/\\+.*$/, '');\n    var patchIndex = indexOrEnd(c, '-');\n    var arr = c.substring(0, patchIndex).split('.');\n    arr.push(c.substring(patchIndex + 1));\n    return arr;\n  }\n\n  function tryParse(v) {\n    return isNaN(Number(v)) ? v : Number(v);\n  }\n\n  function validate(version) {\n    if (typeof version !== 'string') {\n      throw new TypeError('Invalid argument expected string');\n    }\n    if (!semver.test(version)) {\n      throw new Error('Invalid argument not valid semver (\\''+version+'\\' received)');\n    }\n  }\n\n  function compareVersions(v1, v2) {\n    [v1, v2].forEach(validate);\n\n    var s1 = split(v1);\n    var s2 = split(v2);\n\n    for (var i = 0; i < Math.max(s1.length - 1, s2.length - 1); i++) {\n      var n1 = parseInt(s1[i] || 0, 10);\n      var n2 = parseInt(s2[i] || 0, 10);\n\n      if (n1 > n2) return 1;\n      if (n2 > n1) return -1;\n    }\n\n    var sp1 = s1[s1.length - 1];\n    var sp2 = s2[s2.length - 1];\n\n    if (sp1 && sp2) {\n      var p1 = sp1.split('.').map(tryParse);\n      var p2 = sp2.split('.').map(tryParse);\n\n      for (i = 0; i < Math.max(p1.length, p2.length); i++) {\n        if (p1[i] === undefined || typeof p2[i] === 'string' && typeof p1[i] === 'number') return -1;\n        if (p2[i] === undefined || typeof p1[i] === 'string' && typeof p2[i] === 'number') return 1;\n\n        if (p1[i] > p2[i]) return 1;\n        if (p2[i] > p1[i]) return -1;\n      }\n    } else if (sp1 || sp2) {\n      return sp1 ? -1 : 1;\n    }\n\n    return 0;\n  };\n\n  var allowedOperators = [\n    '>',\n    '>=',\n    '=',\n    '<',\n    '<='\n  ];\n\n  var operatorResMap = {\n    '>': [1],\n    '>=': [0, 1],\n    '=': [0],\n    '<=': [-1, 0],\n    '<': [-1]\n  };\n\n  function validateOperator(op) {\n    if (typeof op !== 'string') {\n      throw new TypeError('Invalid operator type, expected string but got ' + typeof op);\n    }\n    if (allowedOperators.indexOf(op) === -1) {\n      throw new TypeError('Invalid operator, expected one of ' + allowedOperators.join('|'));\n    }\n  }\n\n  compareVersions.validate = function(version) {\n    return typeof version === 'string' && semver.test(version);\n  }\n\n  compareVersions.compare = function (v1, v2, operator) {\n    // Validate operator\n    validateOperator(operator);\n\n    // since result of compareVersions can only be -1 or 0 or 1\n    // a simple map can be used to replace switch\n    var res = compareVersions(v1, v2);\n    return operatorResMap[operator].indexOf(res) > -1;\n  }\n\n  return compareVersions;\n}));\n","module.exports = __webpack_public_path__ + \"static/media/puzztool_banner_dark.1521c511.svg\";","import createWithBsPrefix from './createWithBsPrefix';\nexport default createWithBsPrefix('card-deck');","import compareVersions from 'compare-versions';\nimport { version } from '../version';\n\nconst VERSION_STORAGE_KEY = 'appVersion';\nconst STORAGE_KEY_PREFIX = 'puzztool';\nlet isSupported: boolean;\n\nfunction getKey(key: string) {\n  return `${STORAGE_KEY_PREFIX}_${key}`;\n}\n\nfunction didVersionChange(prev: string | null, current: string) {\n  try {\n    if (prev) {\n      return compareVersions(current, prev) !== 0;\n    }\n  } catch {\n    // Something went wrong with parsing.\n  }\n\n  // If there's no existing version number or we had an exception while\n  // comparing it, just return `true` to play it safe.\n  return true;\n}\n\nfunction clearOnVersionMismatch() {\n  const prevVersion = getLocalStorageItem(VERSION_STORAGE_KEY);\n  if (didVersionChange(prevVersion, version)) {\n    // If the current localstorage was created with another version of\n    // PuzzTool, clear the local storage to get rid of any obsolete or\n    // incompatible artifacts.\n    clearLocalStorage();\n\n    // Store the current version\n    setLocalStorageItem(VERSION_STORAGE_KEY, version);\n  }\n}\n\nfunction isLocalStorageSupported() {\n  if (isSupported === undefined) {\n    const storage = window.localStorage;\n    const x = '__storage_test__';\n\n    try {\n      storage.setItem(x, x);\n      storage.removeItem(x);\n      isSupported = true;\n    } catch (e) {\n      isSupported = e instanceof DOMException && (\n        // everything except Firefox\n        e.code === 22 ||\n        // Firefox\n        e.code === 1014 ||\n        // test name field too, because code might not be present\n        // everything except Firefox\n        e.name === 'QuotaExceededError' ||\n        // Firefox\n        e.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&\n        // acknowledge QuotaExceededError only if there's something already stored\n        storage.length !== 0;\n    }\n\n    if (isSupported) {\n      clearOnVersionMismatch();\n    }\n  }\n\n  return isSupported;\n}\n\nfunction getLocalStorageItem(key: string) {\n  if (isLocalStorageSupported()) {\n    return window.localStorage.getItem(getKey(key));\n  }\n\n  return null;\n}\n\nfunction setLocalStorageItem(key: string, value: string) {\n  if (isLocalStorageSupported()) {\n    window.localStorage.setItem(getKey(key), value);\n  }\n}\n\nexport function clearLocalStorage() {\n  if (isLocalStorageSupported()) {\n    window.localStorage.clear();\n  }\n}\n","// generated by genversion\nexport const version = '1.0.1';\n","import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport CardDeck from 'react-bootstrap/CardDeck';\nimport PuzzToolPage from '../../Common/PuzzToolPage';\nimport { clearLocalStorage } from '../../Data/LocalStorage';\nimport PuzztoolBannerDark from '../../Images/puzztool_banner_dark.svg';\nimport { version } from '../../version';\nimport './index.scss';\n\nfunction Settings() {\n  function onClearClick() {\n    clearLocalStorage();\n  }\n\n  return (\n    <PuzzToolPage title=\"Settings\">\n      <div className=\"Settings\">\n        <CardDeck>\n          <Card>\n            <Card.Header>Saved state</Card.Header>\n            <Card.Body>\n              <p>\n                The most recent inputs to each tool are stored in the browser's\n                local storage. In the event that state becomes corrupted it can\n                be cleared using the button below.\n                </p>\n              <Button\n                onClick={onClearClick}\n                variant=\"danger\"\n              >\n                Clear saved state\n            </Button>\n            </Card.Body>\n          </Card>\n          <Card>\n            <Card.Header>About</Card.Header>\n            <Card.Body>\n              <img\n                className=\"AboutLogo\"\n                src={PuzztoolBannerDark}\n                alt=\"PuzzTool logo\"\n              />\n            Version: {version}<br />\n              <a\n                href=\"https://github.com/puzztool/puzztool/\"\n                rel=\"noopener noreferrer\"\n                target=\"_blank\"\n              >\n                Project page\n            </a>\n            </Card.Body>\n          </Card>\n        </CardDeck>\n      </div>\n    </PuzzToolPage>\n  );\n}\n\nexport default Settings;\n"],"sourceRoot":""}